<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Функции</title>
  </head>

  <body>
    <h1>15 Функции</h1>

    <p>
      <button onclick="document.location='14 the switch statement.html'">
        Предыдущая
      </button>
      <button onclick="document.location='page/new.html'">Следующая</button>
    </p>

    <h2>Задачи</h2>

    <!-- #1 -->
    <div>
      <h3>Обязателен ли "else"?</h3>
      <p>важность: 4</p>
      <p>Следующая функция возвращает true, если параметр age больше 18.</p>
      <p>
        В ином случае она запрашивает подтверждение через confirm и возвращает
        его результат:
      </p>
      <code>
        <pre>
          function checkAge(age) {
            if (age > 18) {
              return true;
            } else {
              // ...
              return confirm('Родители разрешили?');
            }
          }
        </pre>
      </code>

      <p>Будет ли эта функция работать как-то иначе, если убрать else?</p>

      <code>
        <pre>
          function checkAge(age) {
            if (age > 18) {
              return true;
            }
            // ...
            return confirm('Родители разрешили?');
          }
        </pre>
      </code>
      <p>Есть ли хоть одно отличие в поведении этого варианта?</p>
      <p>Ответ: Оба варианта функций работают одинаково, отличий нет.</p>

      <button id="myButton1">Задание 1</button>
    </div>

    <!-- #2 -->
    <div>
      <h3>Перепишите функцию, используя оператор '?' или '||'</h3>
      <p>
        важность: 4 <br />
        Следующая функция возвращает true, если параметр age больше 18. <br />
        В ином случае она задаёт вопрос confirm и возвращает его результат
      </p>

      <code>
        <pre>
        function checkAge(age) {
          if (age > 18) {
            return true;
          } else {
            return confirm('Родители разрешили?');
          }
        }
      </pre
        >
      </code>
      <p>
        Перепишите функцию, чтобы она делала то же самое, но без if, в одну
        строку. <br />
        Сделайте два варианта функции checkAge: <br />
        1. Используя оператор ? <br />
        2. Используя оператор || <br />
      </p>

      <button id="myButton2">Задание 2</button>
    </div>

    <!-- #3 -->
    <div>
        <h3>Функция min(a, b)</h3>
      <p>
        важность: 1 <br />
        Напишите функцию min(a,b), которая возвращает меньшее из чисел a и b.
        <br />
        Пример вызовов:
      </p>
      <code>
        <pre>
          min(2, 5) == 2
          min(3, -1) == -1
          min(1, 1) == 1
        </pre>
      </code>

      <button id="myButton3">Задание 3</button>
    </div>

    <!-- #4 -->
    <div>
      <p></p>
      <h3>Функция pow(x,n)</h3>
      <p>
        важность: 4 <br />
        Напишите функцию pow(x,n), которая возводит x в степень n и возвращает
        результат.
      </p>

      <code>
        <pre>
          pow(3, 2) = 3 * 3 = 9
          pow(3, 3) = 3 * 3 * 3 = 27
          pow(1, 100) = 1 * 1 * ...* 1 = 1
        </pre>
      </code>
      <p>
        Создайте страницу, которая запрашивает x и n, а затем выводит результат
        pow(x,n). <br />
        Запустить демо <br />
        P.S. В этой задаче функция обязана поддерживать только натуральные
        значения n, т.е. целые от 1 и выше.
      </p>

      <button id="myButton4">Задание 4</button>
    </div>

    <script>
      //Обязателен ли "else"? #1
      const callback1 = () => {
        let age = prompt('Введите число');

        function checkAge(age) {
          
          if (age > 18) {
            return true;
          } 
          // ...
          return confirm("Родители разрешили?");
        }

        checkAge(age);
      };

      //Перепишите функцию, используя оператор '?' или '||' #2
      const callback2 = () => {
        function checkAge(age) {
          if (age > 18) {
            return true;
          } else {
            return confirm('Родители разрешили?');
          }
        }

        
      };

      //if (строка с нулём) #3
      const callback3 = () => {
        let browser = "Opera";

        if (
          browser === "Chrome" ||
          browser === "Firefox" ||
          browser === "Safari" ||
          browser === "Opera"
        ) {
          alert("Okay we support these browsers too");
        } else if (browser === "Edge") {
          alert("You've got the Edge!");
        } else {
          alert("We hope that this page looks ok!");
        }

        switch (browser) {
          case "Edge":
            alert("You've got the Edge!");
            break;

          case "Chrome":
          case "Firefox":
          case "Safari":
          case "Opera":
            alert("Okay we support these browsers too");
            break;

          default:
        }
      };

      //if (строка с нулём) #4
      const callback4 = () => {
        let browser = "Opera";

        if (
          browser === "Chrome" ||
          browser === "Firefox" ||
          browser === "Safari" ||
          browser === "Opera"
        ) {
          alert("Okay we support these browsers too");
        } else if (browser === "Edge") {
          alert("You've got the Edge!");
        } else {
          alert("We hope that this page looks ok!");
        }

        switch (browser) {
          case "Edge":
            alert("You've got the Edge!");
            break;

          case "Chrome":
          case "Firefox":
          case "Safari":
          case "Opera":
            alert("Okay we support these browsers too");
            break;

          default:
        }
      };

      const buttonInfoList = [
        {
          "selector": "#myButton1",
          "callback": callback1
        },
        {
          "selector": "#myButton2",
          "callback": callback2
        },
        {
          "selector": "#myButton3",
          "callback": callback3
        },
        {
          "selector": "#myButton4",
          "callback": callback4
        },
      ];

      for (const buttonInfo of buttonInfoList) {
        const button = document.querySelector(buttonInfo.selector);
        button.addEventListener("click", buttonInfo.callback);
      }
    </script>
  </body>
</html>
